spring:
  application:
    name: feign-consumer
server:
  port: 40001
eureka:
  client:
    service-url:
      defaultZone: http://localhost:20000/eureka/ # 注册中心
#      defaultZone: http://peer2:20000/eureka/, http://peer1:20001/eureka/ # 高可用注册中心
  instance:
    lease-renewal-interval-in-seconds: 5 # 每隔5秒钟, 向服务中心发送一条续约指令
    lease-expiration-duration-in-seconds: 30 # 如果30秒内, 依然没有收到续约请求, 判断服务过期

feign-client:
  ribbon:
    OkToRetryOnAllOperations: true  # 在所有HTTP Method(Post、GET、DELETE、PUT)进行重试, 如果需要进行数据操作, 必需做好严格的幂等性才开启 *
    ConnectTimeout: 1000  # 连接超时 （prod可以缩短 200~300）
    ReadTimeout: 2000  # 业务处理超时 单位：毫秒
    MaxAutoRetries: 2  # 每台机器最大重试次数
    MaxAutoRetriesNextServer: 2  # 可以再重试几台机器